{
  "id": "tax.json",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "properties": {
    "annualIncome": {
      "type": "integer",
      "description": "adjusted gross income, can be negative, cents",
      "minimum": -Infinity,
      "maximum": Infinity
    },
    "paidPropertyTaxes": {
      "type": ["integer", "null"],
      "description": "personal property taxes, 1040 schA line 7, cents"
    },
    "filingStatus": {
      "type": "string",
      "enum": [
        "single", 
        "married_filing_jointly", 
        "married_filing_separately", 
        "head_of_household", 
        "widow"
      ]
    },
    "contributionIRA": {
      "type": ["integer", "null"],
      "description": "please specify source: which form and line?"
    },
    "w2": {
      "type": ["array", "null"],
      "items": {"$ref": "w2.json#"},
      "minItems": 0,
      "uniqueItems": false
    },
    "scheduleC": {
      "type": ["array", "null"],
      "items": {"$ref": "scheduleC.json#"},
      "minItems": 0,
      "uniqueItems": false
    },
    "scheduleD": {"$ref": "scheduleD.json#"},
    "scheduleE": {
      "type": ["array", "null"],
      "items": {"$ref": "scheduleE.json#"},
      "minItems": 0,
      "uniqueItems": false
    },
    "scheduleK1": {
      "type": "object",
      "properties": {
        "sCorp": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "businessIncome": {
                "type": "integer"
              },
              "realEstateIncome": {
                "type": "integer"
              },
              "basisAdjustment": {
                "type": "array",
                "items": {}
              }
            },
            "required": [
              "businessIncome",
              "realEstateIncome",
              "basisAdjustment"
            ]
          }
        },
        "partnership": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "businessIncome": {
                "type": "integer"
              },
              "realEstateIncome": {
                "type": "integer"
              },
              "interestIncome": {
                "type": "integer"
              },
              "shares": {
                "type": "object",
                "properties": {
                  "beginningProfit": {
                    "type": "integer"
                  },
                  "endingProfit": {
                    "type": "integer"
                  },
                  "beginningLoss": {
                    "type": "integer"
                  },
                  "endingLoss": {
                    "type": "integer"
                  },
                  "beginningCapital": {
                    "type": "integer"
                  },
                  "endingCapital": {
                    "type": "integer"
                  }
                },
                "required": [
                  "beginningProfit",
                  "endingProfit",
                  "beginningLoss",
                  "endingLoss",
                  "beginningCapital",
                  "endingCapital"
                ]
              }
            },
            "required": [
              "businessIncome",
              "realEstateIncome",
              "interestIncome",
              "shares"
            ]
          }
        }
      },
      "required": [
        "sCorp",
        "partnership"
      ]
    },
    "form8949": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "shortTermProceeds": {
            "type": "null"
          },
          "longTermProceeds": {
            "type": "null"
          }
        },
        "required": [
          "shortTermProceeds",
          "longTermProceeds"
        ]
      }
    },
    "form1099R": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "ein": {
            "type": "string"
          },
          "payerName": {
            "type": "string"
          },
          "grossDistribution": {
            "type": "integer"
          },
          "distributionType": {
            "type": "string"
          }
        },
        "required": [
          "ein",
          "payerName",
          "grossDistribution",
          "distributionType"
        ]
      }
    },
    "form1098E": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "recipientId": {
            "type": "string"
          },
          "interestReceivedByLender": {
            "type": "integer"
          }
        },
        "required": [
          "recipientId",
          "interestReceivedByLender"
        ]
      }
    },
    "form1099INT": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "payerName": {
            "type": "string"
          },
          "interestIncome": {
            "type": "integer"
          },
          "earlyWithdrawalPenalty": {
            "type": "integer"
          },
          "interestOnBondsAndTreasury": {
            "type": "integer"
          },
          "taxExemptInterest": {
            "type": "integer"
          }
        },
        "required": [
          "payerName",
          "interestIncome",
          "earlyWithdrawalPenalty",
          "interestOnBondsAndTreasury",
          "taxExemptInterest"
        ]
      }
    },
    "form1099DIV": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "payerName": {
            "type": "string"
          },
          "totalOrdinaryDividend": {
            "type": "integer"
          },
          "totalCapitalGainDistribution": {
            "type": "integer"
          }
        },
        "required": [
          "payerName",
          "totalOrdinaryDividend",
          "totalCapitalGainDistribution"
        ]
      }
    }
  },
  "required": [
    "annualIncome",
    "paidPropertyTaxes",
    "filingStatus",
    "contributionIRA",
    "w2",
    "scheduleC",
    "scheduleD",
    "scheduleE",
    "scheduleK1",
    "form8949",
    "form1099R",
    "form1098E",
    "form1099INT",
    "form1099DIV"
  ]
}
